{"version":3,"sources":["reducers/usersReducer.js","components/PageLayout/index.module.scss","components/Dialogs/DialogsForm/index.module.scss","images/avatar-default.png","components/Profile/ProfilePost/index.module.scss","components/Profile/ProfilePosts/index.module.scss","components/Profile/MyProfileStatus/index.module.scss","api/api.js","reducers/appReducer.js","reducers/profileReducer.js","reducers/messagesReducer.js","reducers/sidebarReducer.js","reducers/reduxStore.js","components/Dialogs/DialogsMessage/index.js","components/FormField/index.js","utils/validators/index.js","components/Dialogs/DialogsForm/index.js","components/Dialogs/DialogsMessages/index.js","components/Dialogs/DialogsContainer/index.js","components/Dialogs/DialogsNavItem/index.js","components/Dialogs/DialogsNav/index.js","pages/DialogPage/index.js","components/Profile/ProfileInfo/index.js","components/Profile/ProfileContainer/index.js","pages/ProfilePage/index.js","components/Profile/ProfilePost/index.js","components/Profile/ProfilePosts/index.js","components/Profile/MyProfileStatus/index.js","components/Profile/MyProfilePostsForm/index.js","components/Profile/MyProfileContainer/index.js","pages/MyProfilePage/index.js","components/LoginForm/index.js","components/LoginContainer/index.js","pages/LoginPage/index.js","App.js","serviceWorker.js","index.js","components/Header/index.js","components/HeaderContainer/index.js","components/PageLayout/index.js","reducers/authReducer.js","components/Preloader/index.module.scss","components/LoginForm/index.module.scss","hoc/withLoginRedirect.js","components/Preloader/index.js","components/Profile/ProfileInfo/index.module.scss","components/Header/index.module.scss","components/FormField/index.module.scss","components/Dialogs/DialogsNav/index.module.scss","pages/DialogPage/index.module.scss","components/Profile/MyProfilePostsForm/index.module.scss"],"names":["initialState","users","itemsPerPage","usersTotalCount","currentPage","isFetching","isLoadingStack","followToggle","userId","type","setCurrentPage","number","isFetchingIndicate","isLoadingIndicate","isLoading","getUsers","dispatch","a","userAPI","response","items","totalCount","followUserToggle","user","id","followed","setFollow","resultCode","setUnFollow","usersReducer","state","action","map","filter","module","exports","userCredentials","axios","withCredentials","baseURL","headers","get","then","data","post","delete","getUserProfile","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","sendLoginRequest","credentials","sendLogoutRequest","sendCheckRequest","init","appReducer","posts","message","likesCount","profile","setUserStatus","getUserStatus","profileReducer","length","dialogs","name","messages","messagesReducer","sidebarReducer","reducers","combineReducers","auth","authReducer","profilePage","dialogsPage","usersPage","sidebar","form","formReducer","app","store","createStore","applyMiddleware","thunk","window","DialogsMessage","className","FormField","textarea","input","placeholder","meta","touched","error","styles","container","required","value","maxLengthCreator","maxLength","maxLength20","DialogsReduxForm","reduxForm","props","onSubmit","handleSubmit","Field","component","validate","DialogsMessages","handleSendMessage","Fragment","item","key","compose","connect","console","log","newMessage","withLoginRedirect","DialogsNavItem","to","DialogsNav","aside","nav","dialog","defaultProps","DialogPage","PageLayout","content","DialogsContainer","ProfileInfo","myProfileData","src","avatar","alt","login","Preloader","photos","large","fullName","ProfileContainer","this","match","params","React","Component","withRouter","ProfilePage","ProfilePost","likes","ProfilePosts","memo","MyProfileStatus","userStatus","useState","editable","setEditable","setStatus","toggleStatusEdit","undefined","useMemo","onClick","onChange","e","target","onBlur","autoFocus","MyProfilePostsReduxForm","btn","MyProfileContainer","addPost","LoginReduxForm","errorMessage","isLogin","LoginPage","UsersPage","lazy","AppView","initApp","path","exact","render","MyProfilePage","fallback","AppContainer","App","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","Header","handleLogout","children","email","unsetUserData","mapStateToProps","RedirectComponent","skypeLoader","dot","first"],"mappings":"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","file":"static/js/main.68d84d78.chunk.js","sourcesContent":["import { userAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst IS_LOADING = \"IS_LOADING\";\r\nconst IS_FETCHING = \"IS_FETCHING\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  itemsPerPage: 10,\r\n  usersTotalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  isLoadingStack: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: !user.followed };\r\n          } else {\r\n            return user;\r\n          }\r\n        }),\r\n      };\r\n    }\r\n\r\n    case SET_USERS: {\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    }\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return {\r\n        ...state,\r\n        currentPage: action.number,\r\n      };\r\n    }\r\n\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {\r\n        ...state,\r\n        usersTotalCount: action.number,\r\n      };\r\n    }\r\n\r\n    case IS_FETCHING: {\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    }\r\n\r\n    case IS_LOADING: {\r\n      return {\r\n        ...state,\r\n        isLoadingStack: action.isLoading\r\n          ? [...state.isLoadingStack, action.userId]\r\n          : state.isLoadingStack.filter((id) => id !== action.userId),\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followToggle = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n});\r\n\r\nexport const setCurrentPage = (number) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  number,\r\n});\r\n\r\nexport const setTotalUsersCount = (number) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  number,\r\n});\r\n\r\nexport const isFetchingIndicate = (isFetching) => ({\r\n  type: IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const isLoadingIndicate = (userId, isLoading) => ({\r\n  type: IS_LOADING,\r\n  userId,\r\n  isLoading,\r\n});\r\n\r\n// THUNKs\r\n\r\nexport const getUsers = (currentPage, itemsPerPage) => async (dispatch) => {\r\n  dispatch(isFetchingIndicate(true));\r\n\r\n  let response = await userAPI.getUsers(currentPage, itemsPerPage);\r\n  dispatch(setUsers(response.items));\r\n  dispatch(setCurrentPage(currentPage));\r\n  dispatch(setTotalUsersCount(response.totalCount));\r\n  dispatch(isFetchingIndicate(false));\r\n};\r\n\r\nexport const followUserToggle = (user) => async (dispatch) => {\r\n  dispatch(isLoadingIndicate(user.id, true));\r\n\r\n  if (user.followed === false) {\r\n    let response = await userAPI.setFollow(user.id);\r\n    if (response.resultCode === 0) {\r\n      dispatch(followToggle(user.id));\r\n      dispatch(isLoadingIndicate(user.id, false));\r\n    }\r\n  } else {\r\n    let response = await userAPI.setUnFollow(user.id);\r\n    if (response.resultCode === 0) {\r\n      dispatch(followToggle(user.id));\r\n      dispatch(isLoadingIndicate(user.id, false));\r\n    }\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PageLayout_container__1RAfq\",\"dotRotate\":\"PageLayout_dotRotate__2XXoN\",\"dotScale\":\"PageLayout_dotScale__1ngTD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"DialogsForm_textarea__2bfnC\",\"dotRotate\":\"DialogsForm_dotRotate__r-sbR\",\"dotScale\":\"DialogsForm_dotScale__3hx3R\"};","module.exports = __webpack_public_path__ + \"static/media/avatar-default.32e9686b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePost_container__1lv9y\",\"dotRotate\":\"ProfilePost_dotRotate__j4FIE\",\"dotScale\":\"ProfilePost_dotScale__2NOUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePosts_container__Sf2rw\",\"dotRotate\":\"ProfilePosts_dotRotate__1OqQM\",\"dotScale\":\"ProfilePosts_dotScale__1A27I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyProfileStatus_container__3cpkB\",\"dotRotate\":\"MyProfileStatus_dotRotate__3KAaG\",\"dotScale\":\"MyProfileStatus_dotScale__bQPbF\"};","import * as axios from \"axios\";\r\n\r\nconst userCredentials = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"63da3da8-9a85-4a6d-8fd2-ba2eb164b24f\",\r\n  },\r\n});\r\n\r\nexport const userAPI = {\r\n  getUsers(currentPage = 1, itemsPerPage = 10) {\r\n    return userCredentials\r\n      .get(`users?page=${currentPage}&count=${itemsPerPage}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  setFollow(userId) {\r\n    return userCredentials.post(`/follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  setUnFollow(userId) {\r\n    return userCredentials.delete(`/follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  getUserProfile(userId) {\r\n    return userCredentials.get(`/profile/${userId}`).then((response) => {\r\n      return profileAPI.getProfile(userId);\r\n    });\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return userCredentials.get(`/profile/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return userCredentials.get(`/profile/status/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return userCredentials.put(`/profile/status`, {\r\n      status: status,\r\n    });\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  sendLoginRequest(credentials) {\r\n    return userCredentials.post(`auth/login`, credentials).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  sendLogoutRequest() {\r\n    return userCredentials.delete(`auth/login`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  sendCheckRequest() {\r\n    return userCredentials.get(`auth/me`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n};\r\n","import { sendCheckRequest } from \"./authReducer\";\r\n\r\nconst SET_INIT = \"SET_INIT\";\r\n\r\nlet initialState = {\r\n  init: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INIT: {\r\n      return {\r\n        ...state,\r\n        init: true,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setAppInit = () => ({\r\n  type: SET_INIT,\r\n});\r\n\r\n// THUNKs\r\n\r\nexport const initApp = () => {\r\n  return (dispatch) => {\r\n    dispatch(sendCheckRequest()).then(() => {\r\n      dispatch(setAppInit());\r\n    });\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","import { userAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Heya!\", likesCount: 12 },\r\n    { id: 2, message: \"How are you?\", likesCount: 22 },\r\n    { id: 3, message: \"What's new?\", likesCount: 2 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          ...state.posts,\r\n          {\r\n            id: state.posts.length + 1,\r\n            message: action.message,\r\n            likesCount: 0,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPost = (message) => ({\r\n  type: ADD_POST,\r\n  message,\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\n\r\n// THUNKs\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await userAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(response));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setUserStatus(response));\r\n};\r\n\r\nexport const updateStatus = (userId, status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Bohdan\" },\r\n    { id: 2, name: \"Sergey\" },\r\n    { id: 3, name: \"Alex\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Heya!\" },\r\n    { id: 2, message: \"How are you?\" },\r\n    { id: 3, message: \"What's new?\" },\r\n  ],\r\n};\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: state.messages.length + 1,\r\n            message: action.message,\r\n          },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addMessageCreator = (message) => ({\r\n  type: SEND_MESSAGE,\r\n  message,\r\n});\r\n\r\nexport default messagesReducer;\r\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n  auth: authReducer,\r\n  profilePage: profileReducer,\r\n  dialogsPage: messagesReducer,\r\n  usersPage: usersReducer,\r\n  sidebar: sidebarReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk));\r\n\r\n// allowed show store to console\r\nwindow.store = store;\r\n//\r\n\r\nexport default store;\r\n","import React from \"react\";\r\n\r\nfunction DialogsMessage({ message, className }) {\r\n  return <p className={className}>{message}</p>;\r\n}\r\n\r\nexport default DialogsMessage;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nconst FormField = ({\r\n  type,\r\n  textarea,\r\n  input,\r\n  placeholder,\r\n  meta: { touched, error },\r\n}) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      {textarea ? (\r\n        <textarea {...input} placeholder={placeholder}></textarea>\r\n      ) : (\r\n        <input type={type} {...input} placeholder={placeholder} />\r\n      )}\r\n      {touched && error && <span className={styles.error}>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormField;\r\n","export const required = (value) => {\r\n  if (value) {\r\n    return undefined;\r\n  } else {\r\n    return \"Field is required!\";\r\n  }\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength) {\r\n    return `Max length must be less than ${maxLength} symbols`;\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport FormField from \"../../FormField\";\r\n\r\nimport styles from \"./index.module.scss\";\r\nimport { required, maxLengthCreator } from \"../../../utils/validators\";\r\n\r\nconst maxLength20 = maxLengthCreator(20);\r\n\r\nfunction DialogsForm({ ...props }) {\r\n  return (\r\n    <form className={styles.textarea} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        textarea\r\n        component={FormField}\r\n        name=\"newMessage\"\r\n        placeholder=\"Enter your message\"\r\n        validate={[required, maxLength20]}\r\n      />\r\n      <button type=\"submit\">Add message</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst DialogsReduxForm = reduxForm({\r\n  form: \"dialogsMessage\",\r\n})(DialogsForm);\r\n\r\nexport default DialogsReduxForm;\r\n","import React from \"react\";\r\nimport DialogsMessage from \"../DialogsMessage\";\r\nimport DialogsForm from \"../DialogsForm\";\r\n\r\nfunction DialogsMessages({ data, handleSendMessage }) {\r\n  return (\r\n    <React.Fragment>\r\n      {data.messages.map((item) => (\r\n        <DialogsMessage key={item.id} message={item.message} />\r\n      ))}\r\n\r\n      <DialogsForm onSubmit={handleSendMessage} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default DialogsMessages;\r\n","import { connect } from \"react-redux\";\r\nimport { addMessageCreator } from \"../../../reducers/messagesReducer\";\r\nimport DialogsMessages from \"../DialogsMessages\";\r\nimport withLoginRedirect from \"../../../hoc/withLoginRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return { data: state.dialogsPage };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleSendMessage: (data) => {\r\n      console.log(data);\r\n\r\n      dispatch(addMessageCreator(data.newMessage));\r\n    },\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withLoginRedirect\r\n)(DialogsMessages);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction DialogsNavItem({ id, name, className }) {\r\n  return (\r\n    <div className={className}>\r\n      <NavLink to={\"/dialogs/\" + id}>{name}</NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DialogsNavItem;\r\n","import React from \"react\";\r\nimport DialogsNavItem from \"../DialogsNavItem\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction DialogsNav({ dialogs }) {\r\n  return (\r\n    <aside className={styles.aside}>\r\n      <nav className={styles.nav}>\r\n        {dialogs.map((dialog) => (\r\n          <DialogsNavItem key={dialog.id} id={dialog.id} name={dialog.name} />\r\n        ))}\r\n      </nav>\r\n    </aside>\r\n  );\r\n}\r\n\r\nDialogsNav.defaultProps = {\r\n  dialogs: [\r\n    { id: 1, name: \"Bohdan\" },\r\n    { id: 2, name: \"Sergey\" },\r\n    { id: 3, name: \"Alex\" },\r\n  ],\r\n};\r\n\r\nexport default DialogsNav;\r\n","import React from \"react\";\r\nimport PageLayout from \"../../components/PageLayout\";\r\nimport DialogsContainer from \"../../components/Dialogs/DialogsContainer\";\r\nimport DialogsNav from \"../../components/Dialogs/DialogsNav\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction DialogPage() {\r\n  return (\r\n    <PageLayout>\r\n      <h1>Dialogs</h1>\r\n\r\n      <div className={styles.container}>\r\n        <DialogsNav />\r\n\r\n        <section className={styles.content}>\r\n          <DialogsContainer />\r\n        </section>\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default DialogPage;\r\n","import React from \"react\";\r\nimport Preloader from \"./../../Preloader\";\r\nimport avatar from \"./../../../images/avatar-default.png\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction ProfileInfo({ profile, myProfileData, status }) {\r\n  if (myProfileData) {\r\n    return (\r\n      <React.Fragment>\r\n        {profile ? (\r\n          <div className={styles.container}>\r\n            <img\r\n              src={avatar}\r\n              alt=\"profile-header-img\"\r\n              className={styles.avatar}\r\n            />\r\n            <section>\r\n              <h3>Information</h3>\r\n              <p>Name: {myProfileData.login}</p>\r\n              <p>ID: {myProfileData.id}</p>\r\n            </section>\r\n          </div>\r\n        ) : (\r\n          <Preloader />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  } else\r\n    return (\r\n      <React.Fragment>\r\n        {profile ? (\r\n          <div className={styles.container}>\r\n            <img\r\n              src={profile.photos.large}\r\n              alt=\"profile-header-img\"\r\n              className={styles.avatar}\r\n            />\r\n            <section>\r\n              <p>Information</p>\r\n              <p>Name: {profile.fullName}</p>\r\n              <p>ID: {profile.userId}</p>\r\n            </section>\r\n            <section>\r\n              <p>Status: {status}</p>\r\n            </section>\r\n          </div>\r\n        ) : (\r\n          <Preloader />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateStatus,\r\n} from \"../../../reducers/profileReducer\";\r\n\r\nimport ProfileInfo from \"./../ProfileInfo\";\r\nimport withLoginRedirect from \"../../../hoc/withLoginRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ProfileInfo profile={this.props.profile} {...this.props} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    updateStatus,\r\n  }),\r\n  withRouter,\r\n  withLoginRedirect\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\nimport PageLayout from \"../../components/PageLayout\";\r\nimport ProfileContainer from \"../../components/Profile/ProfileContainer\";\r\n\r\nfunction ProfilePage() {\r\n  return (\r\n    <PageLayout>\r\n      <h1>Profile</h1>\r\n      <ProfileContainer />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction ProfilePost({ message, likes }) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <p>{message}</p>\r\n      <p>You got {likes} likes</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePost;\r\n","import React from \"react\";\r\nimport ProfilePost from \"../ProfilePost\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nconst ProfilePosts = React.memo(({ posts }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <h3>My posts</h3>\r\n      <section>\r\n        {posts.map((post) => (\r\n          <ProfilePost\r\n            key={post.id}\r\n            message={post.message}\r\n            likes={post.likesCount}\r\n          />\r\n        ))}\r\n      </section>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ProfilePosts;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction MyProfileStatus({ myProfileData, userStatus, updateStatus }) {\r\n  const [editable, setEditable] = React.useState(false);\r\n  const [status, setStatus] = React.useState();\r\n\r\n  function toggleStatusEdit() {\r\n    setEditable(!editable);\r\n    setStatus(userStatus);\r\n    if (status !== userStatus && status !== undefined) {\r\n      updateStatus(myProfileData.id, status);\r\n    }\r\n  }\r\n\r\n  function handleStatusChange(e) {\r\n    setStatus(e.target.value);\r\n  }\r\n\r\n  React.useMemo(() => {\r\n    setStatus(userStatus);\r\n  }, [userStatus]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <p onClick={toggleStatusEdit}>\r\n        User status: {userStatus ? userStatus : `loading...`}\r\n      </p>\r\n      {editable ? (\r\n        <input\r\n          type=\"text\"\r\n          value={status}\r\n          onChange={handleStatusChange}\r\n          onBlur={toggleStatusEdit}\r\n          autoFocus={true}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyProfileStatus;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"../../../utils/validators\";\r\nimport FormField from \"../../FormField\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nconst maxLength20 = maxLengthCreator(20);\r\n\r\nfunction MyProfilePostsForm({ handleSubmit }) {\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.container}>\r\n      <Field\r\n        textarea\r\n        component={FormField}\r\n        name=\"newMessage\"\r\n        placeholder=\"Enter your message\"\r\n        validate={[required, maxLength20]}\r\n      />\r\n      <button type=\"submit\" className={styles.btn}>\r\n        Add post\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst MyProfilePostsReduxForm = reduxForm({\r\n  form: \"myPosts\",\r\n})(MyProfilePostsForm);\r\n\r\nexport default MyProfilePostsReduxForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addPost,\r\n  getUserStatus,\r\n  updateStatus,\r\n} from \"../../../reducers/profileReducer\";\r\n\r\nimport ProfileInfo from \"../ProfileInfo\";\r\nimport ProfilePosts from \"../ProfilePosts\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport MyProfileStatus from \"../MyProfileStatus\";\r\nimport withLoginRedirect from \"../../../hoc/withLoginRedirect\";\r\nimport { compose } from \"redux\";\r\nimport MyProfilePostsForm from \"../MyProfilePostsForm\";\r\n\r\nclass MyProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUserStatus(this.props.auth.id);\r\n  }\r\n\r\n  handleSendMessage = (data) => {\r\n    this.props.addPost(data.newMessage);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ProfileInfo\r\n          profile={this.props.data}\r\n          myProfileData={this.props.auth}\r\n        />\r\n\r\n        <MyProfileStatus\r\n          myProfileData={this.props.auth}\r\n          userStatus={this.props.status}\r\n          updateStatus={this.props.updateStatus}\r\n        />\r\n\r\n        <MyProfilePostsForm onSubmit={this.handleSendMessage} />\r\n\r\n        <ProfilePosts posts={this.props.data.posts} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    data: state.profilePage,\r\n    auth: state.auth,\r\n    status: state.profilePage.status,\r\n    login: state.auth.login,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    addPost,\r\n    getUserStatus,\r\n    updateStatus,\r\n  }),\r\n  withRouter,\r\n  withLoginRedirect\r\n)(MyProfileContainer);\r\n","import React from \"react\";\r\nimport PageLayout from \"../../components/PageLayout\";\r\nimport MyProfileContainer from \"../../components/Profile/MyProfileContainer\";\r\n\r\nfunction ProfilePage() {\r\n  return (\r\n    <PageLayout>\r\n      <h1>My Profile</h1>\r\n      <MyProfileContainer />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport FormField from \"../FormField\";\r\nimport { required } from \"../../utils/validators\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction LoginForm({ error, handleSubmit, errorMessage }) {\r\n  return (\r\n    <form className={styles.container} onSubmit={handleSubmit}>\r\n      <div className={styles.item}>\r\n        <Field\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          component={FormField}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div className={styles.item}>\r\n        <Field\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          component={FormField}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <label className={styles.item}>\r\n        <Field\r\n          type=\"checkbox\"\r\n          name=\"rememberMe\"\r\n          placeholder=\"\"\r\n          component=\"input\"\r\n        />\r\n        <span>Remember me</span>\r\n      </label>\r\n      <p className={styles.error}>\r\n        {error} <br /> {errorMessage}\r\n      </p>\r\n      <div className={styles.item}>\r\n        <button type=\"submit\">Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nexport default LoginReduxForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendLoginRequest } from \"../../reducers/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoginForm from \"../LoginForm\";\r\n\r\nfunction LoginContainer({ errorMessage, isLogin, sendLoginRequest }) {\r\n  const handleSubmit = (data) => {\r\n    sendLoginRequest(data);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Login form</h3>\r\n      {isLogin ? (\r\n        <Redirect to=\"/profile/my-profile\" />\r\n      ) : (\r\n        <LoginForm errorMessage={errorMessage} onSubmit={handleSubmit} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isLogin: state.auth.isLogin, errorMessage: state.auth.message };\r\n};\r\n\r\nexport default connect(mapStateToProps, { sendLoginRequest })(LoginContainer);\r\n","import React from \"react\";\r\nimport PageLayout from \"../../components/PageLayout\";\r\nimport LoginContainer from \"../../components/LoginContainer\";\r\n\r\nfunction LoginPage() {\r\n  return (\r\n    <PageLayout>\r\n      <h1>Login Page</h1>\r\n      <LoginContainer />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import React, { Suspense } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { initApp } from \"./reducers/appReducer\";\nimport { compose } from \"redux\";\nimport { BrowserRouter, withRouter, Switch } from \"react-router-dom\";\nimport { connect, Provider } from \"react-redux\";\nimport store from \"./reducers/reduxStore\";\nimport DialogPage from \"./pages/DialogPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport MyProfilePage from \"./pages/MyProfilePage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport Preloader from \"./components/Preloader\";\n\nimport \"./app.scss\";\n\nconst UsersPage = React.lazy(() => import(\"./pages/UsersPage\"));\n\nclass AppView extends React.Component {\n  componentDidMount() {\n    this.props.initApp();\n  }\n\n  render() {\n    if (!this.props.init) {\n      return <Preloader />;\n    }\n    return (\n      <Switch>\n        <Route path=\"/\" exact render={() => <LoginPage />} />\n        <Route path=\"/login\" render={() => <LoginPage />} />\n        <Route\n          path=\"/profile/my-profile\"\n          exact\n          render={() => <MyProfilePage />}\n        />\n        <Route path=\"/profile/:userId\" render={() => <ProfilePage />} />\n        <Route path=\"/dialogs\" render={() => <DialogPage />} />\n\n        <Route\n          path=\"/users\"\n          render={() => (\n            <Suspense fallback={<span>Loading Users...</span>}>\n              <UsersPage />\n            </Suspense>\n          )}\n        />\n      </Switch>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { init: state.app.init };\n};\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {\n    initApp,\n  })\n)(AppView);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <AppContainer />\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction Header({ login, isLogin, handleLogout }) {\r\n  return (\r\n    <header className={styles.container}>\r\n      <nav className={styles.nav}>\r\n        <NavLink to=\"/login\">Login</NavLink>\r\n        <NavLink to=\"/profile/my-profile\">My Profile</NavLink>\r\n        <NavLink to=\"/dialogs\">Dialogs</NavLink>\r\n        <NavLink to=\"/users\">Users</NavLink>\r\n      </nav>\r\n      <aside className={styles.aside}>\r\n        {isLogin ? (\r\n          <div>\r\n            <span>{login}</span>\r\n            <button onClick={handleLogout}>Logout</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </aside>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"../Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendLogoutRequest } from \"../../reducers/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction HeaderContainer({ isLogin, sendLogoutRequest, ...props }) {\r\n  const handleLogout = () => {\r\n    sendLogoutRequest();\r\n  };\r\n\r\n  return isLogin ? (\r\n    <Header isLogin={isLogin} handleLogout={handleLogout} {...props} />\r\n  ) : (\r\n    <Redirect to=\"/login\" />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { login: state.auth.login, isLogin: state.auth.isLogin };\r\n};\r\n\r\nexport default connect(mapStateToProps, { sendLogoutRequest })(HeaderContainer);\r\n","import React from \"react\";\r\n\r\nimport styles from \"./index.module.scss\";\r\nimport HeaderContainer from \"../HeaderContainer\";\r\n\r\nfunction PageLayout({ children }) {\r\n  return (\r\n    <div>\r\n      <HeaderContainer />\r\n      <main className={styles.container}>{children}</main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageLayout;\r\n","import { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"AUTH/SET_USER_DATA\";\r\nconst UNSET_USER_DATA = \"AUTH/UNSET_USER_DATA\";\r\nconst SET_ERROR_MESSAGE = \"AUTH/SET_ERROR_MESSAGE\";\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isLogin: false,\r\n  message: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        isLogin: true,\r\n      };\r\n    }\r\n\r\n    case UNSET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        isLogin: false,\r\n      };\r\n    }\r\n\r\n    case SET_ERROR_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        message: action.data,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setUserData = (data) => ({\r\n  type: SET_USER_DATA,\r\n  data,\r\n});\r\n\r\nconst unsetUserData = (data) => ({\r\n  type: UNSET_USER_DATA,\r\n  data,\r\n});\r\n\r\nconst setErrorMessage = (data) => ({\r\n  type: SET_ERROR_MESSAGE,\r\n  data,\r\n});\r\n\r\n// THUNKs\r\n\r\nexport const sendLoginRequest = (credentials) => async (dispatch) => {\r\n  let response = await authAPI.sendLoginRequest(credentials);\r\n  if (response.resultCode === 0) {\r\n    dispatch(sendCheckRequest());\r\n  } else {\r\n    dispatch(setErrorMessage(response.messages[0]));\r\n  }\r\n};\r\n\r\nexport const sendLogoutRequest = () => async (dispatch) => {\r\n  let response = await authAPI.sendLogoutRequest();\r\n  if (response.resultCode === 0) {\r\n    dispatch(unsetUserData());\r\n  }\r\n};\r\n\r\nexport const sendCheckRequest = () => async (dispatch) => {\r\n  let response = await authAPI.sendCheckRequest();\r\n  if (response.resultCode === 0) {\r\n    dispatch(setUserData(response.data));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skypeLoader\":\"Preloader_skypeLoader__F10WQ\",\"dot\":\"Preloader_dot__29uMT\",\"first\":\"Preloader_first__2MCmF\",\"dotRotate\":\"Preloader_dotRotate__13uG0\",\"dotScale\":\"Preloader_dotScale__3lv7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginForm_container__19MG1\",\"item\":\"LoginForm_item__2RsoP\",\"error\":\"LoginForm_error__3xrv8\",\"dotRotate\":\"LoginForm_dotRotate__CnrMn\",\"dotScale\":\"LoginForm_dotScale__1ILaL\"};","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isLogin: state.auth.isLogin };\r\n};\r\n\r\nfunction withLoginRedirect(Component) {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (this.props.isLogin) {\r\n        return <Component {...this.props} />;\r\n      } else return <Redirect to=\"/login\" />;\r\n    }\r\n  }\r\n  return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withLoginRedirect;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./index.module.scss\";\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <div className={styles.skypeLoader}>\r\n      <div className={styles.dot}>\r\n        <div className={styles.first}></div>\r\n      </div>\r\n      <div className={styles.dot}></div>\r\n      <div className={styles.dot}></div>\r\n      <div className={styles.dot}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileInfo_container__UPFmT\",\"avatar\":\"ProfileInfo_avatar__3GzV0\",\"dotRotate\":\"ProfileInfo_dotRotate__3AcC-\",\"dotScale\":\"ProfileInfo_dotScale__1olyu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__1FZaD\",\"nav\":\"Header_nav__3Y4sz\",\"aside\":\"Header_aside__vyEj4\",\"dotRotate\":\"Header_dotRotate__nPZL6\",\"dotScale\":\"Header_dotScale__27koF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormField_container__2G-cz\",\"error\":\"FormField_error__1OD8G\",\"dotRotate\":\"FormField_dotRotate__MYYtg\",\"dotScale\":\"FormField_dotScale__2Ov_P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"DialogsNav_aside__Pig-Y\",\"nav\":\"DialogsNav_nav__3vJ1l\",\"dotRotate\":\"DialogsNav_dotRotate__1TrkE\",\"dotScale\":\"DialogsNav_dotScale__2sJm1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DialogPage_container__12Zzp\",\"content\":\"DialogPage_content__pFhMW\",\"textarea\":\"DialogPage_textarea__1aT8d\",\"dotRotate\":\"DialogPage_dotRotate__1CdDP\",\"dotScale\":\"DialogPage_dotScale__1dR4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyProfilePostsForm_container__32TVl\",\"btn\":\"MyProfilePostsForm_btn__1PBXt\",\"dotRotate\":\"MyProfilePostsForm_dotRotate__XMi1H\",\"dotScale\":\"MyProfilePostsForm_dotScale__36k-Q\"};"],"sourceRoot":""}